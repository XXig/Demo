<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>数量</title>
	<meta http-equiv="Content-type" content="text/html; charset=utf-8" />
	<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
	<meta name="flexible" content="initial-dpr=2,maximum-dpr=3" />
	<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
	<meta name="renderer" content="webkit">
	<meta http-equiv="Cache-Control" content="no-siteapp">
	<meta http-equiv="Pragma" content="no-cache">
	<meta http-equiv="Expires" content="0">
	<meta name="apple-mobile-web-app-capable" content="yes">
	<meta name="apple-mobile-web-app-status-bar-style" content="black">
	<meta name="format-detection" content="telephone=no, email=no">
	<meta name="msapplication-tap-highlight" content="no">
	<script type="text/javascript" src="../js/zepto.min.js"></script>
	<style>
		@import url(../css/base.css);
		.box {
			margin: 5% auto;
		}
		.box li{
			text-align: center;
		}
	</style>
	<div class="box">
		<ul>
			<li class="test1"></li>
			<li class='test2'></li>
			<li class='test3'></li>
		</ul>
	</div>
	<script>
		var Num={
			changeNum: function (){
				var x = Math.floor(Math.random() * 90);
				var y = Math.floor(Math.random() * 90);
				var z = Math.floor(Math.random() * 90);
				var oX = x.toString();
				var oY = y.toString();
				var oZ = z.toString();
				var oNum = [oX, oY, oZ];   
				var oText = ['人使用……','家机构使用……','个交易模型'];

				for (var i = 0; i < oNum.length; i++) {
					var text = '';
					for (var index = 0; index < oNum[i].length; index ++) {
						text += '<b>' + 0 + '</b>'
					}
					text += '<span>' + oText[i] + '</span>';
					$('ul li').eq(i).html(text);
				} 

				function setNum(obj,num){
					var n = new Array;
					var timer = new Object;
					var oString = num.toString();
					for (let i = 0; i < oString.length; i++) {
						n[i] = 0;
						timer[i] = setInterval(function(){
							n[i] = n[i] >= 9 ? 0 : n[i] + 1;
							$(obj).eq(i).html( n[i] );  
							var text = '';
							for (let k = 0; k < oString.length; k++) {                        
								text += $(obj).eq(k).html();                        
							}  
							if (text == num) {
								for(var each in timer){
									clearInterval(timer[each]);
								}
							}                                        
						}, 30 * Math.pow(10, oString.length - 1 - i));
					}            
				}
				setNum('.test1 b', x)
				setNum('.test2 b', y)
				setNum('.test3 b', z) 
			}
		}
		Num.changeNum()
		setInterval(function(){
			Num.changeNum()
		},5000)
	</script>